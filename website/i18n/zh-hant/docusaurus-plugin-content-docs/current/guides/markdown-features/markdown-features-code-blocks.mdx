---
id: code-blocks
description: Handling code blocks in Docusaurus Markdown
slug: /markdown-features/code-blocks
---

# ç¨‹å¼ç¢¼å€å¡Š

import BrowserWindow from '@site/src/components/BrowserWindow';
import CodeBlock from '@theme/CodeBlock';

æ–‡ä»¶ä¸­çš„ç¨‹å¼ç¢¼å€å¡Šæ“æœ‰è¶…å¼·åŠŸèƒ½ ğŸ’ªã€‚

## ç¨‹å¼ç¢¼æ¨™é¡Œ {#code-title}

æ‚¨å¯ä»¥åœ¨èªè¨€æ¨™ç±¤å¾Œæ–¹æ·»åŠ  `title` éµå€¼ä¾†ç‚ºç¨‹å¼ç¢¼å€å¡Šæ·»åŠ æ¨™é¡Œï¼ˆéœ€åœ¨èªè¨€èˆ‡æ¨™é¡Œä¹‹é–“ä¿ç•™ç©ºæ ¼ï¼‰ã€‚

````md
```jsx title="/src/components/HelloCodeTitle.js"
function HelloCodeTitle(props) {
  return <h1>Hello, {props.name}</h1>;
}
```
````

```mdx-code-block
<BrowserWindow>
```

```jsx title="/src/components/HelloCodeTitle.js"
function HelloCodeTitle(props) {
  return <h1>Hello, {props.name}</h1>;
}
```

```mdx-code-block
</BrowserWindow>
```

## èªæ³•çªé¡¯ {#syntax-highlighting}

ç¨‹å¼ç¢¼å€å¡Šæ˜¯ç”±ä¸‰å€‹åå¼•è™ŸåŒ…è£¹çš„æ–‡å­—å€å¡Šã€‚æ‚¨å¯æŸ¥é–± [MDX è¦ç¯„åƒè€ƒ](https://mdxjs.com/docs/)äº†è§£è©³ç´°è¦æ ¼ã€‚

````md
```js
console.log('Every repo must come with a mascot.');
```
````

ç‚ºç¨‹å¼ç¢¼å€å¡Šä½¿ç”¨å°æ‡‰çš„èªè¨€å…ƒå­—ä¸²ï¼ŒDocusaurus å°‡è‡ªå‹•å•Ÿç”¨èªæ³•çªé¡¯åŠŸèƒ½ï¼Œè©²åŠŸèƒ½ç”± [Prism React Renderer](https://github.com/FormidableLabs/prism-react-renderer) æä¾›æ”¯æ´ã€‚

<BrowserWindow>

```js
console.log('Every repo must come with a mascot.');
```

</BrowserWindow>

### ä¸»é¡Œè¨­å®š {#theming}

é è¨­æƒ…æ³ä¸‹ï¼Œæˆ‘å€‘ä½¿ç”¨çš„ Prism [èªæ³•çªé¡¯ä¸»é¡Œ](https://github.com/FormidableLabs/prism-react-renderer#theming) æ˜¯ [Palenight](https://github.com/FormidableLabs/prism-react-renderer/blob/master/packages/prism-react-renderer/src/themes/palenight.ts)ã€‚æ‚¨å¯é€éåœ¨ docusaurus.config.js çš„ `themeConfig` ä¸­å‚³å…¥ `prism` çš„ `theme` æ¬„ä½ä¾†åˆ‡æ›å…¶ä»–ä¸»é¡Œã€‚

ä¾‹å¦‚ï¼Œè‹¥æ‚¨åå¥½ä½¿ç”¨ `dracula` çªé¡¯ä¸»é¡Œï¼š

```js title="docusaurus.config.js"
import {themes as prismThemes} from 'prism-react-renderer';

export default {
  themeConfig: {
    prism: {
      // highlight-next-line
      theme: prismThemes.dracula,
    },
  },
};
```

ç”±æ–¼ Prism ä¸»é¡Œæœ¬è³ªä¸Šæ˜¯ JS ç‰©ä»¶ï¼Œè‹¥ä¸æ»¿æ„é è¨­ä¸»é¡Œï¼Œæ‚¨ä¹Ÿå¯ä»¥è‡ªè¡Œç·¨å¯«ä¸»é¡Œã€‚Docusaurus å¢å¼·äº† `github` å’Œ `vsDark` ä¸»é¡Œä»¥æä¾›æ›´è±å¯Œçš„çªé¡¯æ•ˆæœï¼Œæ‚¨å¯åƒè€ƒæˆ‘å€‘é‡å° [æ·ºè‰²](https://github.com/facebook/docusaurus/blob/main/website/src/utils/prismLight.ts) èˆ‡ [æ·±è‰²](https://github.com/facebook/docusaurus/blob/main/website/src/utils/prismDark.ts) ç¨‹å¼ç¢¼å€å¡Šä¸»é¡Œçš„å¯¦ä½œæ–¹å¼ã€‚

### æ”¯æ´èªè¨€ {#supported-languages}

Docusaurus é è¨­å…§å»º [å¸¸ç”¨èªè¨€å­é›†](https://github.com/FormidableLabs/prism-react-renderer/blob/master/packages/generate-prism-languages/index.ts#L10-L25)ã€‚

:::warning

éƒ¨åˆ†ç†±é–€èªè¨€å¦‚ Javaã€C# æˆ– PHP é è¨­æœªå•Ÿç”¨ã€‚

:::

è‹¥è¦ç‚ºå…¶ä»– [Prism æ”¯æ´èªè¨€](https://prismjs.com/#supported-languages) æ·»åŠ èªæ³•çªé¡¯ï¼Œè«‹åœ¨é¡å¤–èªè¨€é™£åˆ—ä¸­å®šç¾©ã€‚

:::note

æ¯å€‹é¡å¤–èªè¨€å¿…é ˆæ˜¯æœ‰æ•ˆçš„ Prism å…ƒä»¶åç¨±ã€‚ä¾‹å¦‚ Prism æœƒå°‡èªè¨€æ¨™ç±¤ `cs` æ˜ å°„è‡³ `csharp`ï¼Œä½†åªæœ‰ `prism-csharp.js` ä½œç‚º _å…ƒä»¶_ å­˜åœ¨ï¼Œå› æ­¤æ‚¨éœ€ä½¿ç”¨ `additionalLanguages: ['csharp']`ã€‚æ‚¨å¯æŸ¥é–± `node_modules/prismjs/components` ç›®éŒ„äº†è§£æ‰€æœ‰å¯ç”¨å…ƒä»¶ï¼ˆèªè¨€ï¼‰ã€‚

:::

ä¾‹å¦‚ï¼Œè‹¥è¦ç‚º PowerShell èªè¨€æ·»åŠ çªé¡¯åŠŸèƒ½ï¼š

```js title="docusaurus.config.js"
export default {
  // ...
  themeConfig: {
    prism: {
      // highlight-next-line
      additionalLanguages: ['powershell'],
    },
    // ...
  },
};
```

æ·»åŠ  `additionalLanguages` å¾Œï¼Œè«‹é‡å•Ÿ Docusaurusã€‚

è‹¥è¦ç‚º Prism å°šæœªæ”¯æ´çš„èªè¨€æ·»åŠ çªé¡¯åŠŸèƒ½ï¼Œå¯æ›¿æ› `prism-include-languages`ï¼š

```bash npm2yarn
npm run swizzle @docusaurus/theme-classic prism-include-languages
```

é€™å°‡åœ¨æ‚¨çš„ `src/theme` è³‡æ–™å¤¾ä¸­ç”Ÿæˆ `prism-include-languages.js`ã€‚é€éç·¨è¼¯æ­¤æª”æ¡ˆå¯ç‚ºè‡ªè¨‚èªè¨€æ·»åŠ çªé¡¯æ”¯æ´ï¼š

```js title="src/theme/prism-include-languages.js"
const prismIncludeLanguages = (Prism) => {
  // ...

  additionalLanguages.forEach((lang) => {
    require(`prismjs/components/prism-${lang}`);
  });

  // highlight-next-line
  require('/path/to/your/prism-language-definition');

  // ...
};
```

ç·¨å¯«è‡ªè¨‚èªè¨€å®šç¾©æ™‚ï¼Œå¯åƒè€ƒ [Prism å®˜æ–¹èªè¨€å®šç¾©](https://github.com/PrismJS/prism/tree/master/components)ã€‚

When adding a custom language definition, you do not need to add the language to the `additionalLanguages` config array, since Docusaurus only looks up the `additionalLanguages` strings in languages that Prism provides. Adding the language import in `prism-include-languages.js` is sufficient.

## Line highlighting {#line-highlighting}

### Highlighting with comments {#highlighting-with-comments}

You can use comments with `highlight-next-line`, `highlight-start`, and `highlight-end` to select which lines are highlighted.

````md
```js
function HighlightSomeText(highlight) {
  if (highlight) {
    // highlight-next-line
    return 'This text is highlighted!';
  }

  return 'Nothing highlighted';
}

function HighlightMoreText(highlight) {
  // highlight-start
  if (highlight) {
    return 'This range is highlighted!';
  }
  // highlight-end

  return 'Nothing highlighted';
}
```
````

```mdx-code-block
<BrowserWindow>
```

```js
function HighlightSomeText(highlight) {
  if (highlight) {
    // highlight-next-line
    return 'This text is highlighted!';
  }

  return 'Nothing highlighted';
}

function HighlightMoreText(highlight) {
  // highlight-start
  if (highlight) {
    return 'This range is highlighted!';
  }
  // highlight-end

  return 'Nothing highlighted';
}
```

```mdx-code-block
</BrowserWindow>
```

Supported commenting syntax:

| Style      | Syntax                   |
| ---------- | ------------------------ |
| C-style    | `/* ... */` and `// ...` |
| JSX-style  | `{/* ... */}`            |
| Bash-style | `# ...`                  |
| HTML-style | `<!-- ... -->`           |

We will do our best to infer which set of comment styles to use based on the language, and default to allowing _all_ comment styles. If there's a comment style that is not currently supported, we are open to adding them! Pull requests welcome. Note that different comment styles have no semantic difference, only their content does.

You can set your own background color for highlighted code line in your `src/css/custom.css` which will better fit to your selected syntax highlighting theme. The color given below works for the default highlighting theme (Palenight), so if you are using another theme, you will have to tweak the color accordingly.

```css title="/src/css/custom.css"
:root {
  --docusaurus-highlighted-code-line-bg: rgb(72, 77, 91);
}

/* If you have a different syntax highlighting theme for dark mode. */
[data-theme='dark'] {
  /* Color which works with dark mode syntax highlighting theme */
  --docusaurus-highlighted-code-line-bg: rgb(100, 100, 100);
}
```

If you also need to style the highlighted code line in some other way, you can target on `theme-code-block-highlighted-line` CSS class.

### Highlighting with metadata string {#highlighting-with-metadata-string}

You can also specify highlighted line ranges within the language meta string (leave a space after the language). To highlight multiple lines, separate the line numbers by commas or use the range syntax to select a chunk of lines. This feature uses the `parse-number-range` library and you can find [more syntax](https://www.npmjs.com/package/parse-numeric-range) on their project details.

````md
```jsx {1,4-6,11}
import React from 'react';

function MyComponent(props) {
  if (props.isBar) {
    return <div>Bar</div>;
  }

  return <div>Foo</div>;
}

export default MyComponent;
```
````

```mdx-code-block
<BrowserWindow>
```

```jsx {1,4-6,11}
import React from 'react';

function MyComponent(props) {
  if (props.isBar) {
    return <div>Bar</div>;
  }

  return <div>Foo</div>;
}

export default MyComponent;
```

```mdx-code-block
</BrowserWindow>
```

:::tip[prefer comments]

Prefer highlighting with comments where you can. By inlining highlight in the code, you don't have to manually count the lines if your code block becomes long. If you add/remove lines, you also don't have to offset your line ranges.

````diff
- ```jsx {3}
+ ```jsx {4}
  function HighlightSomeText(highlight) {
    if (highlight) {
+     console.log('Highlighted text found');
      return 'This text is highlighted!';
    }

    return 'Nothing highlighted';
  }
  ```
````

Below, we will introduce how the magic comment system can be extended to define custom directives and their functionalities. The magic comments would only be parsed if a highlight metastring is not present.

:::

### Custom magic comments {#custom-magic-comments}

`// highlight-next-line` and `// highlight-start` etc. are called "magic comments", because they will be parsed and removed, and their purposes are to add metadata to the next line, or the section that the pair of start- and end-comments enclose.

You can declare custom magic comments through theme config. For example, you can register another magic comment that adds a `code-block-error-line` class name:

```mdx-code-block
<Tabs>
<TabItem value="docusaurus.config.js">
```

```js
export default {
  themeConfig: {
    prism: {
      magicComments: [
        // Remember to extend the default highlight class name as well!
        {
          className: 'theme-code-block-highlighted-line',
          line: 'highlight-next-line',
          block: {start: 'highlight-start', end: 'highlight-end'},
        },
        // highlight-start
        {
          className: 'code-block-error-line',
          line: 'This will error',
        },
        // highlight-end
      ],
    },
  },
};
```

```mdx-code-block
</TabItem>
<TabItem value="src/css/custom.css">
```

```css
.code-block-error-line {
  background-color: #ff000020;
  display: block;
  margin: 0 calc(-1 * var(--ifm-pre-padding));
  padding: 0 var(--ifm-pre-padding);
  border-left: 3px solid #ff000080;
}
```

```mdx-code-block
</TabItem>
<TabItem value="myDoc.md">
```

````md
In JavaScript, trying to access properties on `null` will error.

```js
const name = null;
// This will error
console.log(name.toUpperCase());
// Uncaught TypeError: Cannot read properties of null (reading 'toUpperCase')
```
````

```mdx-code-block
</TabItem>
</Tabs>
```

```mdx-code-block
<BrowserWindow>
```

In JavaScript, trying to access properties on `null` will error.

```js
const name = null;
// This will error
console.log(name.toUpperCase());
// Uncaught TypeError: Cannot read properties of null (reading 'toUpperCase')
```

```mdx-code-block
</BrowserWindow>
```

è‹¥åœ¨å…ƒå­—ä¸²ä¸­ä½¿ç”¨æ•¸å­—ç¯„åœèªæ³•ï¼ˆå¦‚ `{1,3-4}`ï¼‰ï¼ŒDocusaurus æœƒå¥—ç”¨ **é¦–å€‹ `magicComments` æ¢ç›®**çš„ CSS é¡åˆ¥åç¨±ã€‚é è¨­æƒ…æ³ä¸‹ç‚º `theme-code-block-highlighted-line`ï¼Œä½†è‹¥æ‚¨ä¿®æ”¹ `magicComments` é…ç½®ä¸¦å°‡å…¶ä»–æ¢ç›®è¨­ç‚ºé¦–é …ï¼Œå…ƒå­—ä¸²ç¯„åœçš„æ„ç¾©ä¹Ÿæœƒéš¨ä¹‹æ”¹è®Šã€‚

æ‚¨å¯é€é `magicComments: []` åœç”¨é è¨­çš„è¡Œé«˜äº®è¨»è§£ã€‚è‹¥ç„¡ä»»ä½•é­”æ³•è¨»è§£é…ç½®ï¼Œä½† Docusaurus é‡åˆ°åŒ…å«å…ƒå­—ä¸²ç¯„åœçš„ç¨‹å¼ç¢¼å€å¡Šæ™‚ï¼Œå°‡æœƒå ±éŒ¯â€”â€”å› ç‚ºæ­¤æ™‚æ²’æœ‰å¯å¥—ç”¨çš„é¡åˆ¥åç¨±ï¼ˆç•¢ç«Ÿé«˜äº®é¡åˆ¥åç¨±æœ¬è³ªä¸Šå°±æ˜¯ä¸€å€‹é­”æ³•è¨»è§£æ¢ç›®ï¼‰ã€‚

æ¯å€‹é­”æ³•è¨»è§£æ¢ç›®éœ€åŒ…å«ä¸‰å€‹éµå€¼ï¼šå¿…å¡«çš„ `className`ã€é©ç”¨æ–¼ä¸‹ä¸€è¡Œçš„ `line`ï¼Œæˆ–æ˜¯åŒ…å« `start` èˆ‡ `end` çš„ `block`ï¼ˆç”¨æ–¼æ¨™è¨˜è¢«å…©å€‹è¨»è§£åŒ…åœçš„æ•´å€‹å€å¡Šï¼‰ã€‚

é€é CSS é–å®šé¡åˆ¥å·²èƒ½å¯¦ç¾å¤šç¨®æ•ˆæœï¼Œä½†æ‚¨å¯é€é[å…ƒä»¶æ›¿æ›](../../swizzling.mdx)å¾¹åº•é‡‹æ”¾æ­¤åŠŸèƒ½çš„æ½›åŠ›ã€‚

```bash npm2yarn
npm run swizzle @docusaurus/theme-classic CodeBlock/Line
```

`Line` å…ƒä»¶æœƒæ¥æ”¶é¡åˆ¥åç¨±åˆ—è¡¨ï¼Œæ‚¨å¯æ“šæ­¤æ¢ä»¶å¼æ¸²æŸ“ä¸åŒæ¨™è¨˜ã€‚

## è¡Œè™Ÿé¡¯ç¤º {#line-numbering}

æ‚¨å¯åœ¨èªè¨€å…ƒå­—ä¸²ä¸­ä½¿ç”¨ `showLineNumbers` éµå€¼å•Ÿç”¨ç¨‹å¼ç¢¼å€å¡Šçš„è¡Œè™ŸåŠŸèƒ½ï¼ˆæ³¨æ„éµå€¼å‰éœ€ä¿ç•™ç©ºæ ¼ï¼‰ã€‚

````md
```jsx showLineNumbers
import React from 'react';

export default function MyComponent(props) {
  return <div>Foo</div>;
}
```
````

```mdx-code-block
<BrowserWindow>
```

```jsx showLineNumbers
import React from 'react';

export default function MyComponent(props) {
  return <div>Foo</div>;
}
```

```mdx-code-block
</BrowserWindow>
```

é è¨­è¡Œè™Ÿå¾ 1 é–‹å§‹è¨ˆæ•¸ã€‚æ‚¨å¯å‚³å…¥è‡ªè¨‚èµ·å§‹å€¼ä¾†åˆ†å‰²å¤§å‹ç¨‹å¼ç¢¼å€å¡Šä»¥æå‡å¯è®€æ€§ï¼š

````md
```jsx showLineNumbers=3
export default function MyComponent(props) {
  return <div>Foo</div>;
}
```
````

```mdx-code-block
<BrowserWindow>
```

```jsx showLineNumbers=3
export default function MyComponent(props) {
  return <div>Foo</div>;
}
```

```mdx-code-block
</BrowserWindow>
```

## äº’å‹•å¼ç¨‹å¼ç¢¼ç·¨è¼¯å™¨ {#interactive-code-editor}

ï¼ˆç”± [React Live](https://github.com/FormidableLabs/react-live) é©…å‹•ï¼‰

æ‚¨å¯é€é `@docusaurus/theme-live-codeblock` å¤–æ›å»ºç«‹äº’å‹•å¼ç¨‹å¼ç¢¼ç·¨è¼¯å™¨ã€‚è«‹å…ˆå°‡æ­¤å¤–æ›åŠ å…¥å°ˆæ¡ˆå¥—ä»¶ã€‚

```bash npm2yarn
npm install --save @docusaurus/theme-live-codeblock
```

åŒæ™‚éœ€åœ¨ `docusaurus.config.js` ä¸­è¨»å†Šæ­¤å¤–æ›ã€‚

```js {3}
export default {
  // ...
  themes: ['@docusaurus/theme-live-codeblock'],
  // ...
};
```

ä½¿ç”¨æ™‚ï¼Œè«‹åœ¨èªè¨€å…ƒå­—ä¸²å¾Œé™„åŠ  `live` ä¾†å»ºç«‹ç¨‹å¼ç¢¼å€å¡Šã€‚

````md
```jsx live
function Clock(props) {
  const [date, setDate] = useState(new Date());
  useEffect(() => {
    const timerID = setInterval(() => tick(), 1000);

    return function cleanup() {
      clearInterval(timerID);
    };
  });

  function tick() {
    setDate(new Date());
  }

  return (
    <div>
      <h2>It is {date.toLocaleTimeString()}.</h2>
    </div>
  );
}
```
````

è©²ç¨‹å¼ç¢¼å€å¡Šå°‡è¢«æ¸²æŸ“ç‚ºäº’å‹•å¼ç·¨è¼¯å™¨ï¼Œç¨‹å¼ç¢¼è®Šæ›´æœƒå³æ™‚åæ˜ åœ¨çµæœé¢æ¿ä¸Šã€‚

```mdx-code-block
<BrowserWindow>
```

```jsx live
function Clock(props) {
  const [date, setDate] = useState(new Date());
  useEffect(() => {
    const timerID = setInterval(() => tick(), 1000);

    return function cleanup() {
      clearInterval(timerID);
    };
  });

  function tick() {
    setDate(new Date());
  }

  return (
    <div>
      <h2>It is {date.toLocaleTimeString()}.</h2>
    </div>
  );
}
```

```mdx-code-block
</BrowserWindow>
```

### åŒ¯å…¥æ¨¡çµ„ {#imports}

:::warning[react-live èˆ‡æ¨¡çµ„åŒ¯å…¥]

ç„¡æ³•ç›´æ¥å¾ react-live ç¨‹å¼ç¢¼ç·¨è¼¯å™¨åŒ¯å…¥å…ƒä»¶ï¼Œæ‚¨å¿…é ˆé å…ˆå®šç¾©å¯ç”¨çš„åŒ¯å…¥é …ç›®ã€‚

:::

é è¨­æ‰€æœ‰ React åŒ¯å…¥çš†å¯ç”¨ã€‚è‹¥éœ€æ“´å……å¯ç”¨æ¨¡çµ„ï¼Œè«‹æ›¿æ› react-live çš„ä½œç”¨åŸŸé…ç½®ï¼š

```bash npm2yarn
npm run swizzle @docusaurus/theme-live-codeblock ReactLiveScope -- --eject
```

```jsx title="src/theme/ReactLiveScope/index.js"
import React from 'react';

// highlight-start
const ButtonExample = (props) => (
  <button
    {...props}
    style={{
      backgroundColor: 'white',
      color: 'black',
      border: 'solid red',
      borderRadius: 20,
      padding: 10,
      cursor: 'pointer',
      ...props.style,
    }}
  />
);
// highlight-end

// Add react-live imports you need here
const ReactLiveScope = {
  React,
  ...React,
  // highlight-next-line
  ButtonExample,
};

export default ReactLiveScope;
```

ç¾åœ¨å³å¯ä½¿ç”¨ `ButtonExample` å…ƒä»¶ï¼š

```mdx-code-block
<BrowserWindow>
```

```jsx live
function MyPlayground(props) {
  return (
    <div>
      <ButtonExample onClick={() => alert('hey!')}>Click me</ButtonExample>
    </div>
  );
}
```

```mdx-code-block
</BrowserWindow>
```

### å‘½ä»¤å¼æ¸²æŸ“ (noInline)

ç•¶ç¨‹å¼ç¢¼è·¨è¶Šå¤šå€‹å…ƒä»¶æˆ–è®Šæ•¸æ™‚ï¼Œæ‡‰ä½¿ç”¨ `noInline` é¸é …ä»¥é¿å…éŒ¯èª¤ã€‚

````md
```jsx live noInline
const project = 'Docusaurus';

const Greeting = () => <p>Hello {project}!</p>;

render(<Greeting />);
```
````

èˆ‡ä¸€èˆ¬äº’å‹•å¼ç¨‹å¼ç¢¼å€å¡Šä¸åŒï¼Œä½¿ç”¨ `noInline` æ™‚ React Live ä¸æœƒå°‡æ‚¨çš„ç¨‹å¼ç¢¼åŒ…è£¹åœ¨è¡Œå…§å‡½æ•¸ä¸­é€²è¡Œæ¸²æŸ“ã€‚

ä½ éœ€è¦åœ¨ç¨‹å¼ç¢¼çµå°¾æ˜ç¢ºå‘¼å« `render()` ä¾†é¡¯ç¤ºè¼¸å‡ºçµæœã€‚

````mdx-code-block
<BrowserWindow>

```jsx live noInline
const project = "Docusaurus";

const Greeting = () => (
  <p>Hello {project}!</p>
);

render(
  <Greeting />
);
```

</BrowserWindow>
````

## åœ¨ç¨‹å¼ç¢¼å€å¡Šä¸­ä½¿ç”¨ JSX æ¨™è¨˜ {#using-jsx-markup}

Markdown ä¸­çš„ç¨‹å¼ç¢¼å€å¡Šå§‹çµ‚å°‡å…¶å…§å®¹ä¿ç•™ç‚ºç´”æ–‡å­—ï¼Œé€™æ„å‘³è‘—ä½ ç„¡æ³•åŸ·è¡Œä»¥ä¸‹æ“ä½œï¼š

```ts
type EditUrlFunction = (params: {
  // This doesn't turn into a link (for good reason!)
  version: <a href="/docs/versioning">Version</a>;
  versionDocsDirPath: string;
  docPath: string;
  permalink: string;
  locale: string;
}) => string | undefined;
```

è‹¥éœ€åµŒå…¥éŒ¨é»é€£çµæˆ–ç²—é«”ç­‰ HTML æ¨™è¨˜ï¼Œå¯ä½¿ç”¨ `<pre>` æ¨™ç±¤ã€`<code>` æ¨™ç±¤æˆ– `<CodeBlock>` å…ƒä»¶ã€‚

```jsx
<pre>
  <b>Input: </b>1 2 3 4{'\n'}
  <b>Output: </b>"366300745"{'\n'}
</pre>
```

<BrowserWindow>
  <pre>
    <b>{'Input: '}</b>
    {'1 2 3 4\n'}
    <b>{'Output: '}</b>
    {'"366300745"\n'}
  </pre>
</BrowserWindow>

:::warning[MDX å°ç©ºç™½ä¸æ•æ„Ÿ]

MDX è¡Œç‚ºèˆ‡ JSX ä¸€è‡´ï¼šæ›è¡Œç¬¦è™Ÿï¼ˆå³ä½¿ä½æ–¼ `<pre>` å…§ï¼‰æœƒè¢«è½‰æ›ç‚ºç©ºæ ¼ã€‚å¿…é ˆæ˜ç¢ºå¯«å…¥æ›è¡Œå­—å…ƒæ‰èƒ½å¯¦éš›è¼¸å‡ºã€‚

:::

:::warning

èªæ³•çªé¡¯åƒ…ä½œç”¨æ–¼ç´”æ–‡å­—å­—ä¸²ã€‚Docusaurus ä¸æœƒå˜—è©¦è§£æå«æœ‰ JSX å­å…ƒç´ çš„ç¨‹å¼ç¢¼å€å¡Šå…§å®¹ã€‚

:::

## å¤šèªè¨€æ”¯æ´ç¨‹å¼ç¢¼å€å¡Š {#multi-language-support-code-blocks}

é€é MDXï¼Œä½ å¯è¼•é¬†åœ¨æ–‡ä»¶ä¸­å»ºç«‹äº’å‹•å¼å…ƒä»¶ï¼Œä¾‹å¦‚ä½¿ç”¨æ¨™ç±¤å…ƒä»¶åˆ‡æ›é¡¯ç¤ºå¤šç¨®ç¨‹å¼èªè¨€çš„ç¨‹å¼ç¢¼ã€‚

æˆ‘å€‘ä¸¦æœªå¯¦ä½œå°ˆç”¨çš„å¤šèªè¨€ç¨‹å¼ç¢¼å€å¡Šå…ƒä»¶ï¼Œè€Œæ˜¯åœ¨ç¶“å…¸ä¸»é¡Œä¸­å¯¦ä½œäº†é€šç”¨å‹ [`<Tabs>`](./markdown-features-tabs.mdx) å…ƒä»¶ï¼Œè®“ä½ èƒ½å°‡å…¶æ‡‰ç”¨æ–¼å…¶ä»–éç¨‹å¼ç¢¼æƒ…å¢ƒã€‚

ä»¥ä¸‹ç¯„ä¾‹å±•ç¤ºå¦‚ä½•åœ¨æ–‡ä»¶ä¸­å»ºç«‹å¤šèªè¨€ç¨‹å¼ç¢¼æ¨™ç±¤ã€‚è«‹æ³¨æ„ï¼Œå„èªè¨€å€å¡Šä¸Šä¸‹çš„ç©ºè¡Œæ˜¯**åˆ»æ„ä¿ç•™**çš„ã€‚é€™æ˜¯ [MDX ç›®å‰çš„é™åˆ¶](./markdown-features-react.mdx#markdown-and-jsx-interoperability)ï¼šå¿…é ˆåœ¨ Markdown èªæ³•å‘¨åœç•™ç©ºè¡Œï¼ŒMDX è§£æå™¨æ‰èƒ½è¾¨è­˜å…¶ç‚º Markdown èªæ³•è€Œé JSXã€‚

````jsx
import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

<Tabs>
<TabItem value="js" label="JavaScript">

```js
function helloWorld() {
  console.log('Hello, world!');
}
```

</TabItem>
<TabItem value="py" label="Python">

```py
def hello_world():
  print("Hello, world!")
```

</TabItem>
<TabItem value="java" label="Java">

```java
class HelloWorld {
  public static void main(String args[]) {
    System.out.println("Hello, World");
  }
}
```

</TabItem>
</Tabs>
````

ä½ å°‡ç²å¾—ä»¥ä¸‹æ•ˆæœï¼š

```mdx-code-block
<BrowserWindow>
<Tabs>
<TabItem value="js" label="JavaScript">
```

```js
function helloWorld() {
  console.log('Hello, world!');
}
```

```mdx-code-block
</TabItem>
<TabItem value="py" label="Python">
```

```py
def hello_world():
  print("Hello, world!")
```

```mdx-code-block
</TabItem>
<TabItem value="java" label="Java">
```

```java
class HelloWorld {
  public static void main(String args[]) {
    System.out.println("Hello, World");
  }
}
```

```mdx-code-block
</TabItem>
</Tabs>
</BrowserWindow>
```

è‹¥æœ‰å¤šå€‹é€™é¡å¤šèªè¨€ç¨‹å¼ç¢¼æ¨™ç±¤ï¼Œä¸”éœ€åŒæ­¥ä¸åŒæ¨™ç±¤å¯¦ä¾‹é–“çš„é¸æ“‡ç‹€æ…‹ï¼Œè«‹åƒé–±[åŒæ­¥æ¨™ç±¤é¸æ“‡ç« ç¯€](markdown-features-tabs.mdx#syncing-tab-choices)ã€‚

### Docusaurus npm2yarn å‚™è¨»å¤–æ› {#npm2yarn-remark-plugin}

åŒæ™‚é¡¯ç¤º npm å’Œ Yarn çš„ CLI æŒ‡ä»¤æ˜¯å¸¸è¦‹éœ€æ±‚ï¼Œä¾‹å¦‚ï¼š

```bash npm2yarn
npm install @docusaurus/remark-plugin-npm2yarn
```

Docusaurus å…§å»ºæ­¤å¯¦ç”¨åŠŸèƒ½ï¼Œçœå»æ¯æ¬¡ä½¿ç”¨ `Tabs` å…ƒä»¶çš„éº»ç…©ã€‚å•Ÿç”¨æ­¤åŠŸèƒ½éœ€å…ˆå®‰è£ `@docusaurus/remark-plugin-npm2yarn` å¥—ä»¶ï¼Œä¸¦åœ¨ `docusaurus.config.js` ä¸­ï¼Œæ–¼éœ€è¦æ­¤åŠŸèƒ½çš„æ’ä»¶ï¼ˆæ–‡ä»¶ã€éƒ¨è½æ ¼ã€é é¢ç­‰ï¼‰çš„ `remarkPlugins` é¸é …è¨»å†Šã€‚ï¼ˆè©³è¦‹[æ–‡ä»¶é…ç½®](../../api/plugins/plugin-content-docs.mdx#ex-config)äº†è§£é…ç½®æ ¼å¼ï¼‰

```js title="docusaurus.config.js"
export default {
  // ...
  presets: [
    [
      '@docusaurus/preset-classic',
      {
        docs: {
          // highlight-start
          remarkPlugins: [
            [require('@docusaurus/remark-plugin-npm2yarn'), {sync: true}],
          ],
          // highlight-end
        },
        pages: {
          // highlight-next-line
          remarkPlugins: [require('@docusaurus/remark-plugin-npm2yarn')],
        },
        blog: {
          // highlight-start
          remarkPlugins: [
            [
              require('@docusaurus/remark-plugin-npm2yarn'),
              {converters: ['pnpm']},
            ],
          ],
          // highlight-end
          // ...
        },
      },
    ],
  ],
};
```

ä½¿ç”¨æ™‚åœ¨ç¨‹å¼ç¢¼å€å¡ŠåŠ å…¥ `npm2yarn` éµå€¼ï¼š

````md
```bash npm2yarn
npm install @docusaurus/remark-plugin-npm2yarn
```
````

#### é…ç½®é¸é … {#npm2yarn-remark-plugin-configuration}

| Option | Type | Default | Description |
| --- | --- | --- | --- |
| `sync` | `boolean` | `false` | Whether to sync the selected converter across all code blocks. |
| `converters` | `array` | `'yarn'`, `'pnpm'` | The list of converters to use. The order of the converters is important, as the first converter will be used as the default choice. |

## åœ¨ JSX ä¸­ä½¿ç”¨ {#usage-in-jsx}

åœ¨ Markdown ä¹‹å¤–ï¼Œå¯ä½¿ç”¨ `@theme/CodeBlock` å…ƒä»¶ç²å¾—ç›¸åŒè¼¸å‡ºæ•ˆæœã€‚

```jsx
import CodeBlock from '@theme/CodeBlock';

export default function MyReactPage() {
  return (
    <div>
      {/* highlight-start */}
      <CodeBlock
        language="jsx"
        title="/src/components/HelloCodeTitle.js"
        showLineNumbers>
        {`function HelloCodeTitle(props) {
  return <h1>Hello, {props.name}</h1>;
}`}
      </CodeBlock>
      {/* highlight-end */}
    </div>
  );
}
```

```mdx-code-block
<BrowserWindow>
  <CodeBlock
    language="jsx"
    title="/src/components/HelloCodeTitle.js"
    showLineNumbers>
    {`function HelloCodeTitle(props) {
  return <h1>Hello, {props.name}</h1>;
}`}
  </CodeBlock>
</BrowserWindow>
```

The props accepted are `language`, `title` and `showLineNumbers`, in the same way as you write Markdown code blocks.

Although discouraged, you can also pass in a `metastring` prop like `metastring='{1-2} title="/src/components/HelloCodeTitle.js" showLineNumbers'`, which is how Markdown code blocks are handled under the hood. However, we recommend you [use comments for highlighting lines](#highlighting-with-comments).

As [previously stated](#using-jsx-markup), syntax highlighting is only applied when the children is a simple string.