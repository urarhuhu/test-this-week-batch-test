---
sidebar_position: 4
slug: /api/plugins/@docusaurus/plugin-client-redirects
---

# ğŸ“¦ plugin-client-redirects

import APITable from '@site/src/components/APITable';

Docusaurus ç”¨æ–¼ç”Ÿæˆ**å®¢æˆ¶ç«¯é‡å®šå‘**çš„å¤–æ›ç¨‹å¼ã€‚

æ­¤å¤–æ›ç¨‹å¼æœƒå°‡é¡å¤–çš„ HTML é é¢å¯«å…¥æ‚¨çš„éœæ…‹ç¶²ç«™ï¼Œé€™äº›é é¢æœƒé€é JavaScript å°‡ä½¿ç”¨è€…é‡æ–°å°å‘è‡³ç¾æœ‰çš„ Docusaurus é é¢ã€‚

:::warning[åƒ…é™ç”Ÿç”¢ç’°å¢ƒ]

æ­¤å¤–æ›ç¨‹å¼åœ¨é–‹ç™¼ç’°å¢ƒä¸­å§‹çµ‚è™•æ–¼éæ´»å‹•ç‹€æ…‹ï¼Œ**åƒ…åœ¨ç”Ÿç”¢ç’°å¢ƒä¸­ç”Ÿæ•ˆ**ï¼Œå› ç‚ºå…¶é‹ä½œä¾è³´æ–¼å»ºç½®è¼¸å‡ºã€‚

:::

:::warning

å»ºè­°å„ªå…ˆä½¿ç”¨ä¼ºæœå™¨ç«¯é‡å®šå‘åŠŸèƒ½ã€‚

åœ¨ä½¿ç”¨æ­¤å¤–æ›ç¨‹å¼å‰ï¼Œæ‡‰å…ˆç¢ºèªæ‚¨çš„è¨—ç®¡æœå‹™æä¾›å•†æ˜¯å¦å·²æä¾›æ­¤åŠŸèƒ½ã€‚

:::

## å®‰è£ {#installation}

```bash npm2yarn
npm install --save @docusaurus/plugin-client-redirects
```

## é…ç½® {#configuration}

å¯æ¥å—æ¬„ä½ï¼š

```mdx-code-block
<APITable>
```

| Option | Type | Default | Description |
| --- | --- | --- | --- |
| `fromExtensions` | `string[]` | `[]` | The extensions to be removed from the route after redirecting. |
| `toExtensions` | `string[]` | `[]` | The extensions to be appended to the route after redirecting. |
| `redirects` | <code>[RedirectRule](#RedirectRule)[]</code> | `[]` | The list of redirect rules. |
| `createRedirects` | <code>[CreateRedirectsFn](#CreateRedirectsFn)</code> | `undefined` | A callback to create a redirect rule. Docusaurus query this callback against every path it has created, and use its return value to output more paths. |

```mdx-code-block
</APITable>
```

:::note

æ­¤å¤–æ›ç¨‹å¼é‚„æœƒè®€å– [`siteConfig.onDuplicateRoutes`](../docusaurus.config.js.mdx#onDuplicateRoutes) é…ç½®ï¼Œä»¥ä¾¿åœ¨å¤šå€‹æª”æ¡ˆè¢«ç™¼é€åˆ°ç›¸åŒä½ç½®æ™‚èª¿æ•´å…¶æ—¥èªŒç´šåˆ¥ã€‚

:::

### é¡å‹ {#types}

#### `RedirectRule` {#RedirectRule}

```ts
type RedirectRule = {
  to: string;
  from: string | string[];
};
```

:::note

ã€Œä¾†æºã€èˆ‡ã€Œç›®æ¨™ã€çš„æ¦‚å¿µæ˜¯æ­¤å¤–æ›ç¨‹å¼çš„æ ¸å¿ƒã€‚ã€Œä¾†æºã€æŒ‡æ‚¨æƒ³è¦å»ºç«‹çš„è·¯å¾„ï¼Œå³ä¸€å€‹å°‡è¢«å¯«å…¥çš„é¡å¤– HTML æª”æ¡ˆï¼›ã€Œç›®æ¨™ã€å‰‡æ˜¯æ‚¨æƒ³è¦é‡æ–°å°å‘è‡³çš„è·¯å¾„ï¼Œé€šå¸¸æ˜¯ Docusaurus å·²çŸ¥çš„è·¯ç”±ã€‚

å› æ­¤ï¼ŒåŒä¸€å€‹ã€Œç›®æ¨™ã€å¯ä»¥å°æ‡‰å¤šå€‹ã€Œä¾†æºã€ï¼šæˆ‘å€‘æœƒå»ºç«‹å¤šå€‹ HTML æª”æ¡ˆï¼Œé€™äº›æª”æ¡ˆéƒ½æœƒé‡æ–°å°å‘è‡³åŒä¸€å€‹ç›®çš„åœ°ã€‚åä¹‹ï¼Œä¸€å€‹ã€Œä¾†æºã€ä¸èƒ½å°æ‡‰å¤šå€‹ã€Œç›®æ¨™ã€ï¼šå¯«å…¥çš„ HTML æª”æ¡ˆå¿…é ˆæœ‰ç¢ºå®šçš„ç›®çš„åœ°ã€‚

:::

#### `CreateRedirectsFn` {#CreateRedirectsFn}

```ts
// The parameter `path` is a route that Docusaurus has already created. It can
// be seen as the "to", and your return value is the "from". Returning a falsy
// value will not create any redirect pages for this particular path.
type CreateRedirectsFn = (path: string) => string[] | string | null | undefined;
```

### é…ç½®ç¯„ä¾‹ {#ex-config}

ä»¥ä¸‹æ˜¯ä¸€å€‹é…ç½®ç¯„ä¾‹ï¼š

```js title="docusaurus.config.js"
export default {
  plugins: [
    [
      '@docusaurus/plugin-client-redirects',
      // highlight-start
      {
        fromExtensions: ['html', 'htm'], // /myPage.html -> /myPage
        toExtensions: ['exe', 'zip'], // /myAsset -> /myAsset.zip (if latter exists)
        redirects: [
          // /docs/oldDoc -> /docs/newDoc
          {
            to: '/docs/newDoc',
            from: '/docs/oldDoc',
          },
          // Redirect from multiple old paths to the new path
          {
            to: '/docs/newDoc2',
            from: ['/docs/oldDocFrom2019', '/docs/legacyDocFrom2016'],
          },
        ],
        createRedirects(existingPath) {
          if (existingPath.includes('/community')) {
            // Redirect from /docs/team/X to /community/X and /docs/support/X to /community/X
            return [
              existingPath.replace('/community', '/docs/team'),
              existingPath.replace('/community', '/docs/support'),
            ];
          }
          return undefined; // Return a falsy value: no redirect created
        },
      },
      // highlight-end
    ],
  ],
};
```