---
title: Announcing Docusaurus 3.0
authors:
  - slorber
tags: [release]
image: ./img/social-card.png
date: 2023-10-31
---

ä»Šå¤©ï¼Œæˆ‘å€‘å¾ˆé«˜èˆˆå®£å¸ƒ **Docusaurus 3.0** æ­£å¼ç™¼å¸ƒï¼ğŸ¥³

åœ¨ [**Meta é–‹æºå°ˆæ¡ˆ**](https://opensource.fb.com/) ä¸­ï¼Œæˆ‘å€‘ç›¸ä¿¡ Docusaurus èƒ½å”åŠ©æ‚¨ä»¥ **æœ€å°ç²¾åŠ›** æ‰“é€  **æœ€ä½³æ–‡æª”ç¶²ç«™**ï¼Œè®“æ‚¨å°ˆæ³¨æ–¼çœŸæ­£é‡è¦çš„äº‹ï¼šæ’°å¯«å…§å®¹ã€‚

é€™æ˜¯ Docusaurus çš„ **å…¨æ–°ä¸»ç‰ˆæœ¬**ï¼Œå¸¶ä¾† **ä»¤äººæŒ¯å¥®çš„æ–°åŠŸèƒ½** èˆ‡å‡ç´šçš„ä¾è³´é …ã€‚

éµå¾ª [**èªæ„åŒ–ç‰ˆæœ¬æ§åˆ¶**](https://semver.org/) åŸå‰‡ï¼Œæ­¤ç‰ˆæœ¬åŒ…å«æˆ‘å€‘è©³ç›¡è¨˜éŒ„æ–¼ [**v3 å‡ç´šæŒ‡å—**](/docs/migration/v3/) çš„ **é‡å¤§è®Šæ›´**ã€‚é›–ç„¶é‡å¤§è®Šæ›´å¯èƒ½å¸¶ä¾†ä¸ä¾¿ï¼Œä½†é€™æ˜¯ç‚º Docusaurus æœªä¾†è¨ˆåŠƒå¯¦ç¾çš„ **æ–°ä¸€æ³¢åŠŸèƒ½** å¥ å®šåŸºç¤çš„å¿…è¦ä¹‹èˆ‰ã€‚

![v3.0 ç¤¾ç¾¤åª’é«”å¡ç‰‡åœ–ç‰‡](./img/social-card.png)

æˆ‘å€‘åŸæœ¬è¨ˆåŠƒæ›´é »ç¹åœ°ç™¼å¸ƒä¸»ç‰ˆæœ¬ï¼Œä½† Docusaurus v3 çš„é–‹ç™¼æ™‚é–“æ¯”é æœŸæ›´é•·ã€‚åœ¨ç´¯ç©çš„é‡å¤§è®Šæ›´ä¸­ï¼Œ**å‡ç´šè‡³ MDX v3** å¯èƒ½æ˜¯æ¡ç”¨æ­¤æ–°ç‰ˆæœ¬çš„ä¸»è¦æŒ‘æˆ°ã€‚æˆ‘å€‘åŠ å€åŠªåŠ›ä½¿æ­¤å‡ç´šéç¨‹ç›¡å¯èƒ½é †åˆ©ï¼Œç‰¹åˆ¥æ˜¯é€éæ–°å¢ [MDX v1 çš„ç›¸å®¹æ€§é¸é …](/docs/api/docusaurus-config#markdown)ã€‚

æœ€ç°¡å–®çš„ç¶²ç«™åªéœ€å‡ç´šå°‘æ•¸ npm ä¾è³´é …ã€‚å°æ–¼è¼ƒè¤‡é›œçš„ç¶²ç«™ï¼Œæˆ‘å€‘æå‡ºå¹¾é …ç­–ç•¥å¹«åŠ©æ‚¨æ›´æœ‰ä¿¡å¿ƒåœ°å®Œæˆå‡ç´šï¼š

- æå‰ [æº–å‚™æ‚¨çš„ç¶²ç«™](/blog/preparing-your-site-for-docusaurus-v3)ï¼Œé€æ­¥é€²è¡Œèª¿æ•´ï¼ŒåŒæ™‚ä¿æŒä½¿ç”¨ Docusaurus v2
- [è¨­ç½®è¦–è¦ºå›æ­¸æ¸¬è©¦](/blog/upgrading-frontend-dependencies-with-confidence-using-visual-regression-testing) ä»¥æ•æ‰å‡ç´šéç¨‹ä¸­æ„å¤–çš„è¦–è¦ºè®ŠåŒ–

:::info[é—œæ–¼ Docusaurus v2]

æ ¹æ“šæˆ‘å€‘çš„ [ç™¼å¸ƒæµç¨‹](/community/release-process)ï¼ŒDocusaurus v2 ç¾å·²é€²å…¥ **ç¶­è­·æ¨¡å¼**ã€‚åœ¨ 2024 å¹´ 1 æœˆ 31 æ—¥å‰çš„ 3 å€‹æœˆå…§ï¼Œåƒ…æœƒé‡å°é‡å¤§å®‰å…¨æ€§å•é¡Œæä¾›æ”¯æ´ã€‚å»ºè­°åœ¨æ­¤æ™‚é–“ç¯„åœå…§å‡ç´šè‡³ v3 ç‰ˆæœ¬ã€‚

:::

import IframeWindow from '@site/src/components/BrowserWindow/IframeWindow';

## é‡å¤§è®Šæ›´

æœ¬ç¯€åƒ…æä¾›å¿«é€Ÿæ¦‚è¦½ã€‚æ‰€æœ‰é‡å¤§è®Šæ›´å‡è©³ç›¡è¨˜éŒ„æ–¼ [**v3 å‡ç´šæŒ‡å—**](/docs/migration/v3)ã€‚

Docusaurus v3 å°‡å¤šå€‹ä¾è³´é …å‡ç´šè‡³æ–°ä¸»ç‰ˆæœ¬ï¼Œæ¯å€‹å‡ç´šå‡ä¼´éš¨å…¶è‡ªèº«çš„é‡å¤§è®Šæ›´ï¼š

- Node.js v16 â¡ï¸ v18
- React v17 â¡ï¸ v18
- MDX v1 â¡ï¸ v3
- TypeScript v4 â¡ï¸ v5
- prism-react-renderer v1 â¡ï¸ v2
- react-live v2 â¡ï¸ v4
- Mermaid v9 â¡ï¸ v10
- import-fresh v3 â¡ï¸ jiti v1
- remark-emoji v2 â¡ï¸ v4

å…¸å‹çš„ `package.json` ä¾è³´é …å‡ç´šç¯„ä¾‹å¦‚ä¸‹ï¼š

```diff title="package.json"
 {
   "dependencies": {
     // upgrade to Docusaurus v3
-    "@docusaurus/core": "2.4.3",
-    "@docusaurus/preset-classic": "2.4.3",
+    "@docusaurus/core": "3.0.0",
+    "@docusaurus/preset-classic": "3.0.0",
     // upgrade to MDX v3
-    "@mdx-js/react": "^1.6.22",
+    "@mdx-js/react": "^3.0.0",
     // upgrade to prism-react-renderer v2.0+
-    "prism-react-renderer": "^1.3.5",
+    "prism-react-renderer": "^2.1.0",
     // upgrade to React v18.0+
-    "react": "^17.0.2",
-    "react-dom": "^17.0.2"
+    "react": "^18.2.0",
+    "react-dom": "^18.2.0"
   },
   "devDependencies": {
     // upgrade Docusaurus dev dependencies to v3
-    "@docusaurus/module-type-aliases": "2.4.3",
-    "@docusaurus/types": "2.4.3"
+    "@docusaurus/module-type-aliases": "3.0.0",
+    "@docusaurus/types": "3.0.0"
   }
   "engines": {
     // require Node.js 18.0+
-    "node": ">=16.14"
+    "node": ">=18.0"
   }
 }
```

é™¤ MDX v3 å¤–ï¼Œå¤§å¤šæ•¸ä¼´éš¨é€™äº›å‡ç´šä¾è³´é …è€Œä¾†çš„é‡å¤§è®Šæ›´å·²ç”±æˆ‘å€‘å…§éƒ¨è™•ç†å®Œç•¢ï¼šå¤šæ•¸æƒ…æ³ä¸‹æ‚¨ç„¡éœ€æ¡å–ä»»ä½•è¡Œå‹•ã€‚åœ¨ä¾è³´é …ä¹‹å¤–ï¼Œæ˜ç¢ºæºè‡ª Docusaurus ç¨‹å¼ç¢¼åº«çš„åŠŸèƒ½æ€§é‡å¤§è®Šæ›´åƒ…æœ‰ï¼š

- [#9189](https://github.com/facebook/docusaurus/pull/9189)ï¼šæ–°ç‰ˆéƒ¨è½æ ¼ RSS é¥‹é€é è¨­é™åˆ¶ç‚º 20 æ¢ç›®
- [#9308](https://github.com/facebook/docusaurus/pull/9308)ï¼šä¿®æ­£ä¸¦é‡æ–°å¼•å…¥ `:::warning` è­¦å‘Šæ¨™ç¤ºï¼Œæ£„ç”¨ `:::caution`
- [#9310](https://github.com/facebook/docusaurus/pull/9310)ï¼šç§»é™¤èˆŠç‰ˆç‰ˆæœ¬åŒ–å´é‚Šæ¬„ ID å‰ç¶´ï¼Œé©ç”¨æ–¼ `v2.0.0-beta.10` ä¹‹å‰ï¼ˆ2021 å¹´ 12 æœˆï¼‰ç‰ˆæœ¬åŒ–çš„ç¶²ç«™
- [#7966](https://github.com/facebook/docusaurus/pull/7966)ï¼šé‡æ§‹æ–‡æª”ä¸»é¡Œå…ƒä»¶ï¼Œæœ€çµ‚éœ€è¦æ‚¨é‡æ–°é€²è¡Œ swizzle æ“ä½œ

## é‡é»åŠŸèƒ½

ä»¥ä¸‹æ˜¯éè©³ç›¡çš„æ–°ç‰ˆæœ¬å¯¦ç”¨åŠŸèƒ½åˆ—è¡¨ã€‚æ‰€æœ‰åŠŸèƒ½å‡åˆ—æ–¼ [**Docusaurus v3.0.0 ç‰ˆæœ¬èªªæ˜**](https://github.com/facebook/docusaurus/releases/tag/v3.0.0)ã€‚

### Markdown

Docusaurus v3 å¾ MDX v1 å‡ç´šè‡³ MDX v3ï¼š

- åœ¨ [#8288](https://github.com/facebook/docusaurus/pull/8288) ä¸­ï¼Œæˆ‘å€‘å‡ç´šè‡³ [**MDX v2**](https://mdxjs.com/blog/v2/) ([é·ç§»æŒ‡å—](https://mdxjs.com/migrating/v2/))
- åœ¨ [#9451](https://github.com/facebook/docusaurus/pull/9451) ä¸­ï¼Œæˆ‘å€‘å‡ç´šè‡³ [**MDX v3**](https://mdxjs.com/blog/v3/) ([é·ç§»æŒ‡å—](https://mdxjs.com/migrating/v3/))

æ­¤æ–°ç‰ˆ MDX å°**å…§å®¹æ’°å¯«è€…èˆ‡æ’ä»¶é–‹ç™¼è€…æ›´ç‚ºå‹å–„**ï¼Œä¸¦ç‚ºå¯¦ç¾æ–°ç©çš„ Markdown åŠŸèƒ½å¥ å®šåŸºç¤ã€‚

:::warning[MDX v3 - ä¸»è¦æŒ‘æˆ°]

å¾ MDX v1 éæ¸¡è‡³ MDX v3 æ˜¯æ¡ç”¨ Docusaurus v3 çš„**ä¸»è¦æŒ‘æˆ°**ã€‚

éƒ¨åˆ†åœ¨ Docusaurus v2 æˆåŠŸç·¨è­¯çš„æ–‡ä»¶ï¼Œç¾åœ¨å¯èƒ½åœ¨ Docusaurus v3 ä¸‹**ç·¨è­¯å¤±æ•—**ï¼Œæˆ–å‘ˆç¾**ä¸åŒçµæœ**ã€‚

å¤šæ•¸é‡å¤§è®Šæ›´æºè‡ª [MDX v2](https://mdxjs.com/blog/v2/)ï¼Œè€Œ [MDX v3](https://mdxjs.com/blog/v3/) å±¬ç›¸å°å°å¹…æ›´æ–°ã€‚[MDX v2 é·ç§»æŒ‡å—](https://mdxjs.com/migrating/v2/)ä¸­çš„[æ›´æ–° MDX æ–‡ä»¶](https://mdxjs.com/migrating/v2/#update-mdx-files)ç« ç¯€å°æˆ‘å€‘ç‰¹åˆ¥é‡è¦ã€‚å¦è«‹å‹™å¿…é–±è®€[MDX ç–‘é›£æ’è§£](https://mdxjs.com/docs/troubleshooting-mdx/)é é¢ï¼Œå”åŠ©è§£è®€å¸¸è¦‹ MDX éŒ¯èª¤è¨Šæ¯ã€‚

**ç„¡éœ€ç•æ‡¼**ã€‚å¤šæ•¸å•é¡Œ**æ˜“æ–¼ä¿®å¾©**ï¼Œé€šå¸¸èˆ‡éœ€è½‰ç¾©çš„ `{` å’Œ `<` å­—å…ƒæœ‰é—œã€‚ä½†æ ¹æ“šç¶²ç«™è¦æ¨¡ï¼Œæ‚¨å¯èƒ½éœ€è¦ç·¨è¼¯å¤§é‡æ–‡ä»¶è€Œæ„Ÿåˆ°å£“åŠ›ã€‚å› æ­¤ï¼Œæˆ‘å€‘æä¾› [`npx docusaurus-mdx-checker`](https://github.com/slorber/docusaurus-mdx-checker) æŒ‡ä»¤å”åŠ©è©•ä¼°å·¥ä½œé‡ï¼Œä¸¦å»ºè­°[é å…ˆæº–å‚™ç¶²ç«™](/blog/preparing-your-site-for-docusaurus-v3)ã€‚

è‹¥æ‚¨æ›¾è‡ªè¨‚ [MDX æ’ä»¶](/docs/markdown-features/plugins)ï¼ˆRemark/Rehypeï¼‰ï¼Œç”±æ–¼ AST ç•¥æœ‰å·®ç•°ï¼Œå¯èƒ½éœ€è¦é‡æ§‹å®ƒå€‘ã€‚

:::

é€™ä½¿æˆ‘å€‘å¾—ä»¥æ–°å¢[CommonMark æ¨¡å¼](/docs/markdown-features#mdx-vs-commonmark)ï¼Œè®“ç¾æœ‰æ–‡ä»¶æ›´å®¹æ˜“æ¡ç”¨ Docusaurusã€‚ç›®å‰æ­¤åŠŸèƒ½ç‚ºé¸ç”¨ä¸”**å¯¦é©—æ€§**ï¼ŒåŠŸèƒ½æœ‰é™ï¼ˆ[éƒ¨åˆ† Docusaurus åŠŸèƒ½å°‡ç„¡æ³•é‹ä½œ](https://github.com/facebook/docusaurus/issues/9092)ï¼‰ã€‚åœ¨ Docusaurus v3 ä¸­ï¼Œæ‰€æœ‰æª”æ¡ˆä»ä»¥ MDX è§£æï¼Œä½†æˆ‘å€‘è¨ˆåŠƒåœ¨æœªä¾†ä¸»è¦ç‰ˆæœ¬ä¸­å°‡ `.md` æª”æ¡ˆè§£æç‚º CommonMarkï¼Œä¸¦å»ºè­°å°ä½¿ç”¨ JSX æˆ– ES æ¨¡çµ„çš„æª”æ¡ˆæ¡ç”¨ `.mdx` å‰¯æª”åã€‚

æˆ‘å€‘ä¹Ÿå¼•å…¥æ–°çš„[å…¨åŸŸ Markdown è¨­å®šæ–¹å¼](/docs/api/docusaurus-config#markdown)ï¼Œä¸¦è¨ˆåŠƒå¾ŒçºŒå¢åŠ æ›´å¤šå½ˆæ€§é¸é …ã€‚

```js title="docusaurus.config.js"
export default {
  markdown: {
    format: 'mdx',
    mermaid: true,
    preprocessor: ({filePath, fileContent}) => {
      return fileContent.replaceAll('{{MY_VAR}}', 'MY_VALUE');
    },
    mdx1Compat: {
      comments: true,
      admonitions: true,
      headingIds: true,
    },
  },
};
```

Docusaurus ç¾æ¡ç”¨ [remark-directive](https://github.com/remarkjs/remark-directive) æ’ä»¶æ”¯æ´ admonitionsã€‚é€™ä¹Ÿè®“æ‚¨èƒ½é€éè‡ªè¨‚ [directive](https://talk.commonmark.org/t/generic-directives-plugins-syntax/444)ï¼ˆå¦‚ `:textDirective`ã€`::leafDirective` æˆ– `:::containerDirective`ï¼‰æ“´å±• Markdown åŠŸèƒ½ã€‚

### ESM èˆ‡ TypeScript è¨­å®š {#esm-ts-configs}

åœ¨ [#9317](https://github.com/facebook/docusaurus/pull/9317) ä¸­ï¼Œæˆ‘å€‘æ–°å¢äº†å° ES æ¨¡çµ„å’Œ TypeScript è¨­å®šæª”çš„æ”¯æ´ï¼ŒåŒ…æ‹¬ç¶²ç«™è¨­å®šã€æ–‡ä»¶å´é‚Šæ¬„ã€å¤–æ›å’Œé è¨­é…ç½®ã€‚

ä»¥ä¸‹æ˜¯å…©å€‹ TypeScript ç¯„ä¾‹ï¼Œæä¾›æ‚¨ç¾ä»£åŒ–çš„ IDE è‡ªå‹•å®Œæˆé«”é©—ï¼š

```ts title="docusaurus.config.ts"
import type {Config} from '@docusaurus/types';
import type * as Preset from '@docusaurus/preset-classic';

const config: Config = {
  title: 'My Site',
  favicon: 'img/favicon.ico',
  // your site config ...
  presets: [
    [
      'classic',
      {
        // your preset config ...
      } satisfies Preset.Options,
    ],
  ],
  themeConfig: {
    // your theme config ...
  } satisfies Preset.ThemeConfig,
};

export default config;
```

```ts title="sidebars.ts"
import type {SidebarsConfig} from '@docusaurus/plugin-content-docs';

const sidebars: SidebarsConfig = {
  docs: ['introduction'],
};

export default sidebars;
```

### æœªåˆ—å‡ºçš„å…§å®¹

Docusaurus å·²åœ¨æˆ‘å€‘çš„ 3 å€‹å…§å®¹å¤–æ›ï¼ˆæ–‡ä»¶ã€éƒ¨è½æ ¼ã€é é¢ï¼‰ä¸­æ”¯æ´ `draft: true` å‰ç½®å…ƒæ•¸æ“šé¸é …ï¼Œå…è¨±æ‚¨å¾ç”Ÿç”¢ç‰ˆæœ¬ä¸­ç§»é™¤æŸäº›é é¢ã€‚

åœ¨ [#8004](https://github.com/facebook/docusaurus/pull/8004) ä¸­ï¼Œæˆ‘å€‘å¼•å…¥äº†ä¸€å€‹æ–°çš„ `unlisted: true` å‰ç½®å…ƒæ•¸æ“šé¸é …ï¼Œé€™å°‡ä½¿æ‚¨çš„é é¢åœ¨ç”Ÿç”¢ç‰ˆæœ¬ä¸­ä¿æŒå¯ç”¨ï¼ŒåŒæ™‚ã€Œéš±è—ã€å®ƒå€‘ï¼Œé™¤éæ‚¨æ“æœ‰è©² URLï¼Œå¦å‰‡ç„¡æ³•ç™¼ç¾ã€‚é€™ä½¿å¾—åœ¨æœ€çµ‚ç™¼å¸ƒå‰è¼•é¬†å¾µæ±‚å…§å®¹åé¥‹çš„å·¥ä½œæµç¨‹æˆç‚ºå¯èƒ½ã€‚

æœªåˆ—å‡ºçš„å…§å®¹å°‡æœƒï¼š

- å¾ `sitemap.xml` ä¸­æ’é™¤
- é€šé `<meta name="robots" content="noindex, nofollow" />` å¾ SEO çµæœä¸­æ’é™¤
- å¾éƒ¨è½æ ¼ RSS è¨‚é–±ä¸­æ’é™¤
- å¾ Algolia DocSearch çµæœä¸­æ’é™¤
- å¾ç¶²ç«™å°èˆªæ¬„é …ç›®ã€æ–‡ä»¶å´é‚Šæ¬„ã€éƒ¨è½æ ¼å´é‚Šæ¬„ã€éƒ¨è½æ ¼å­˜æª”ã€æ¨™ç±¤é é¢ç­‰ä¸­éæ¿¾æ‰

æœªåˆ—å‡ºçš„å…§å®¹é‚„æœƒé¡¯ç¤ºä¸€å€‹æ©«å¹…ï¼Œä»¥ä¾¿æ‚¨åœ¨å…§å®¹æº–å‚™å¥½æ­£å¼ç™¼å¸ƒæ™‚ä¸æœƒå¿˜è¨˜é—œé–‰å®ƒã€‚é€™è£¡æœ‰ä¸€å€‹[æœªåˆ—å‡ºçš„éƒ¨è½æ ¼æ–‡ç« ](/tests/blog/unlisted-post)ç¯„ä¾‹ï¼š

<IframeWindow url="/tests/blog/unlisted-post" />

### React 18

åœ¨ [#8961](https://github.com/facebook/docusaurus/pull/8961) ä¸­ï¼Œæˆ‘å€‘å‡ç´šåˆ°äº† React 18ã€‚é€™å¾ˆé‡è¦ï¼Œç‰¹åˆ¥æ˜¯å°æ–¼[é€æ­¥æ¡ç”¨ Concurrent React åŠŸèƒ½](https://react.dev/blog/2022/03/29/react-v18#gradually-adopting-concurrent-features)ï¼Œä»¥åŠå³å°‡æ¨å‡ºçš„ä»¤äººèˆˆå¥®çš„åŠŸèƒ½ï¼Œå¦‚[æ§‹å»ºæ™‚ React Server Components](https://github.com/facebook/docusaurus/issues/9089)ã€‚

é€™å€‹æ–°ç‰ˆæœ¬çš„ React å°æ–¼å¤§å¤šæ•¸ Docusaurus ç¶²ç«™ä¾†èªªæ‡‰è©²æ˜¯ç„¡ç¸«æ›¿æ›çš„ã€‚å®ƒå¸¶ä¾†çš„ç ´å£æ€§è®Šæ›´æˆ‘å€‘å·²åœ¨ Docusaurus ä»£ç¢¼åº«å…§éƒ¨è™•ç†ã€‚å¦‚æœæ‚¨çš„ç¶²ç«™ä½¿ç”¨äº†å¤§é‡è‡ªå®šç¾© React ä»£ç¢¼ï¼Œæˆ‘å€‘å»ºè­°æ‚¨æŸ¥çœ‹å®˜æ–¹æ–‡ç« [å¦‚ä½•å‡ç´šåˆ° React 18](https://react.dev/blog/2022/03/08/react-18-upgrade-guide)ï¼Œç‰¹åˆ¥æ˜¯æ–°çš„[è‡ªå‹•æ‰¹è™•ç†](https://react.dev/blog/2022/03/08/react-18-upgrade-guide#automatic-batching)è¡Œç‚ºã€‚

:::danger[å° React 18 åŠŸèƒ½çš„å¯¦é©—æ€§æ”¯æ´]

React 18 å¸¶ä¾†äº†æ–°åŠŸèƒ½ï¼š

- `<Suspense>`
- `React.lazy()`
- `startTransition()`

å®ƒå€‘åœ¨ Docusaurus ä¸­çš„æ”¯æ´è¢«è¦–ç‚º**å¯¦é©—æ€§**ã€‚æˆ‘å€‘æœªä¾†å¯èƒ½éœ€è¦èª¿æ•´æ•´åˆæ–¹å¼ï¼Œå°è‡´é‹è¡Œæ™‚è¡Œç‚ºæœ‰æ‰€ä¸åŒã€‚

:::

### è‡ªå‹• JSX é‹è¡Œæ™‚

Docusaurus ç¾åœ¨ä½¿ç”¨[ã€Œè‡ªå‹•ã€JSX é‹è¡Œæ™‚](https://legacy.reactjs.org/blog/2020/09/22/introducing-the-new-jsx-transform.html)ã€‚

åœ¨æœªä½¿ç”¨ä»»ä½• React API çš„ JSX æ–‡ä»¶ä¸­ï¼Œä¸å†éœ€è¦å°å…¥ Reactã€‚

```diff title="src/components/MyComponent.js"
- import React from 'react';

  export default function MyComponent() {
    return <div>Hello</div>;
  }
```

### é™¤éŒ¯ç‰ˆæœ¬

ç¾åœ¨å¯ä»¥åœ¨é–‹ç™¼æ¨¡å¼ä¸‹æ§‹å»ºæ‚¨çš„éœæ…‹ç¶²ç«™ã€‚

```bash
docusaurus build --dev
```

:::tip[é™¤éŒ¯ React ç›¸é—œå•é¡Œ]

Docusaurus å°‡åœ¨æ§åˆ¶å°ä¸­è¨˜éŒ„æ›´å¤šéŒ¯èª¤ï¼Œç‰¹åˆ¥æ˜¯é€šéæ–°çš„ [`onRecoverableError` å›èª¿](https://react.dev/reference/react-dom/client/hydrateRoot#parameters)è¨˜éŒ„çš„ React 18 æ°´åˆéŒ¯èª¤ã€‚

é€™å€‹æ–°çš„æ§‹å»ºæ¨¡å¼å°æ–¼**æ’æŸ¥ React å•é¡Œ**ç‰¹åˆ¥æœ‰å¹«åŠ©ã€‚Docusaurus å°‡ä½¿ç”¨ React çš„é–‹ç™¼æ§‹å»ºï¼Œå¾è€Œç”¢ç”Ÿè©³ç´°ä¸”å¯è®€çš„éŒ¯èª¤è¨Šæ¯ï¼Œè€Œä¸æ˜¯éˆæ¥åˆ° [React éŒ¯èª¤è§£ç¢¼å™¨é é¢](https://reactjs.org/docs/error-decoder.html/)çš„å£“ç¸®è¨Šæ¯ã€‚

:::

### TypeScript

Docusaurus v3 ç¾åœ¨éœ€è¦ TypeScript 5.0 ä½œç‚ºæœ€ä½ç‰ˆæœ¬è¦æ±‚ã€‚

æˆ‘å€‘å°‡åŸºç¤æ¨è–¦çš„ TypeScript é…ç½®é‡æ–°å…§åŒ–åˆ°ä¸€å€‹æ–°çš„å®˜æ–¹å¥—ä»¶ä¸­ï¼š

```diff title="tsconfig.json"
 {
-  "extends": "@tsconfig/docusaurus/tsconfig.json",
+  "extends": "@docusaurus/tsconfig",
   "compilerOptions": {
     "baseUrl": "."
   }
 }
```

æˆ‘å€‘é‚„ç‚º Docusaurus æ ¸å¿ƒé¡å‹ã€æ’ä»¶å’Œé è¨­é¸é …æä¾›äº†æ›´æ¸…æ™°ã€æ¨™æº–åŒ–çš„å°å‡ºï¼Œæ‚¨å¯ä»¥åœ¨å…¨æ–°çš„ [TypeScript é…ç½®æª”æ¡ˆ](#esm-ts-configs) ä¸­ä½¿ç”¨ï¼š

```ts title="docusaurus.config.ts"
import type {Config} from '@docusaurus/types';
import type {Options, ThemeConfig} from '@docusaurus/preset-classic';
import type {SidebarsConfig} from '@docusaurus/plugin-content-docs';
```

### ç¨‹å¼ç¢¼å€å¡Š

åœ¨ [#9316](https://github.com/facebook/docusaurus/pull/9316) ä¸­ï¼Œæˆ‘å€‘é€éå‡ç´š [prism-react-renderer](https://github.com/FormidableLabs/prism-react-renderer) v2 æ”¹å–„äº†èªæ³•çªé¡¯åŠŸèƒ½ã€‚ä¾‹å¦‚ï¼Œbash åƒæ•¸ `--save` ç¾åœ¨æœƒé¡¯ç¤ºé¡è‰²ï¼š

```bash
npm install --save some-package
```

[äº’å‹•å¼ç¨‹å¼ç¢¼ç·¨è¼¯å™¨](/docs/markdown-features/code-blocks#interactive-code-editor) ä¹Ÿå‡ç´šè‡³ [react-live](https://github.com/FormidableLabs/react-live) v4ï¼Œä¸¦æ¡ç”¨æ–°çš„ [sucrase](https://github.com/alangpierce/sucrase) ç·¨è­¯å™¨ã€‚å®ƒæ›´å¿«ã€æ›´è¼•é‡ï¼Œä¸¦æ”¯æ´ç¾ä»£åŠŸèƒ½ï¼Œç‰¹åˆ¥æ˜¯ TypeScript é¡å‹è¨»è§£ã€‚

```js live
function Hello() {
  const name: string = 'World';
  return <div>Hello {name}</div>;
}
```

åœ¨ [#8982](https://github.com/facebook/docusaurus/pull/8982) å’Œ [#8870](https://github.com/facebook/docusaurus/pull/8870) ä¸­ï¼Œæˆ‘å€‘é‚„ç‚º TeX é¢¨æ ¼ã€Haskell é¢¨æ ¼å’Œ WebAssembly è¨»è§£èªæ³•æ–°å¢äº† [é­”æ³•è¨»è§£](/docs/markdown-features/code-blocks#custom-magic-comments) æ”¯æ´ã€‚

```haskell title="haskell.hs"
stringLength :: String -> Int
-- highlight-next-line
stringLength [] = 0
stringLength (x:xs) = 1 + stringLength xs
```

```matlab title="matlab.m"
% highlight-start
function result = times2(n)
  result = n * 2;
end
% highlight-end
x = 10;
% highlight-next-line
y = times2(x);
```

### Mermaid åœ–è¡¨

åœ¨ [#9305](https://github.com/facebook/docusaurus/pull/9305) ä¸­ï¼Œæˆ‘å€‘å‡ç´šè‡³ Mermaid v10.4 ä¸¦æ–°å¢äº†éåŒæ­¥åœ–è¡¨æ¸²æŸ“æ”¯æ´ã€‚Docusaurus ç¾åœ¨èƒ½å¤ æ¸²æŸ“æ–°å‹æ…‹çš„åœ–è¡¨ã€‚

<details>
  <summary>Mindmap</summary>

```mermaid
mindmap
  root((mindmap))
    Research
      Creative techniques
      Strategic planning
      Argument mapping
    Tools
      Pen and paper
      Mermaid
```

</details>

<details>
  <summary>Quadrant chart</summary>

```mermaid
quadrantChart
  title Reach and engagement of campaigns
  x-axis Low Reach --> High Reach
  y-axis Low Engagement --> High Engagement
  quadrant-1 We should expand
  quadrant-2 Need to promote
  quadrant-3 Re-evaluate
  quadrant-4 May be improved
  Campaign A: [0.3, 0.6]
  Campaign B: [0.45, 0.23]
  Campaign C: [0.57, 0.69]
  Campaign D: [0.78, 0.34]
  Campaign E: [0.40, 0.34]
  Campaign F: [0.35, 0.78]
```

</details>

### æŸ¥è©¢å­—ä¸²è³‡æ–™å±¬æ€§

åœ¨ [#9028](https://github.com/facebook/docusaurus/pull/9028) ä¸­ï¼Œæˆ‘å€‘å¯¦ç¾äº†é€é `docusaurus-data-x` æŸ¥è©¢å­—ä¸²åƒæ•¸è¨­å®šè‡ªè¨‚ HTML [è³‡æ–™å±¬æ€§](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/data-*)ã€‚é€™ä½¿å¾—åœ¨å…¶ä»–ç¶²ç«™ä¸ŠåµŒå…¥ Docusaurus iframe æ›´åŠ å®¹æ˜“ï¼Œä¸¦è®“æ‚¨èƒ½é€é CSS è‡ªè¨‚åµŒå…¥ç‰ˆæœ¬çš„å¤–è§€ã€‚

```css title="/src/css/custom.css"
html[data-navbar='false'] .navbar {
  display: none;
}

html[data-red-border] div#__docusaurus {
  border: red solid thick;
}
```

<IframeWindow url="/docs/?docusaurus-data-navbar=false&docusaurus-data-red-border" />

### å…¶ä»–åŠŸèƒ½

å…¶ä»–å€¼å¾—æ³¨æ„çš„æ–°åŠŸèƒ½ï¼š

- [#9189](https://github.com/facebook/docusaurus/pull/9189)ï¼šæ–°å¢éƒ¨è½æ ¼ `feedOptions.limit` é¸é …
- [#9071](https://github.com/facebook/docusaurus/pull/9071)ï¼šç‚ºé é¢æ’ä»¶æ–°å¢æ¨™æº–åŒ– SEO å‰ç½®è³‡æ–™æ”¯æ´
- [#9171](https://github.com/facebook/docusaurus/pull/9028)ï¼šå®¢æˆ¶ç«¯é‡å®šå‘æ’ä»¶ç¾åœ¨æ”¯æ´å®Œæ•´é™å®šç¶²å€å’Œç›®æ¨™ç¶²å€ä¸­çš„æŸ¥è©¢å­—ä¸²/é›œæ¹Š
- [#9171](https://github.com/facebook/docusaurus/pull/9171)ï¼šæ–°å¢ ESLint è¦å‰‡ [`no-html-links`](/docs/api/misc/@docusaurus/eslint-plugin/no-html-links)
- [#8384](https://github.com/facebook/docusaurus/pull/8384)ï¼šæ–°å¢ ESLint è¦å‰‡ [`prefer-docusaurus-heading`](/docs/api/misc/@docusaurus/eslint-plugin/prefer-docusaurus-heading)

è«‹é–±è®€ [**Docusaurus v3.0.0 ç‰ˆæœ¬èªªæ˜**](https://github.com/facebook/docusaurus/releases/tag/v3.0.0) ä»¥ç²å–å®Œæ•´çš„è®Šæ›´æ¸…å–®ã€‚

## çµè«–

æ­¤ç‰ˆæœ¬å¸¶ä¾†äº†ä¸€äº›åŠŸèƒ½ï¼Œä½†æ›´é‡è¦çš„æ˜¯ **å‡ç´šäº† Docusaurus åŸºç¤æ¶æ§‹çš„è¨±å¤šéƒ¨åˆ†**ã€‚

**MDX å‡ç´š** ä»Šå¹´è€—è²»äº†æˆ‘å€‘å¤§é‡æ™‚é–“ï¼Œæˆ‘å€‘åŠªåŠ›ä½¿é€™å€‹é‡è¦å‡ç´šå°æ‰€æœ‰äººä¾†èªªä¸é‚£éº¼å›°é›£ã€‚

ç¾åœ¨æˆ‘å€‘å·²å®Œæˆäº†åŸºç¤æ¶æ§‹çš„æ›´æ–°ï¼Œå¾ˆå¿«å°‡åœ¨æ¥ä¸‹ä¾†çš„æ¬¡è¦ç‰ˆæœ¬ä¸­**æŒçºŒæ¨å‡ºå¯¦ç”¨çš„æ–‡ä»¶åŠŸèƒ½**ã€‚

æˆ‘å€‘è¦æ„Ÿè¬æ‚¨å¤šå¹´ä¾†ä½¿ç”¨ Docusaurusã€‚è¿‘æœŸæ–‡ä»¶æ¡†æ¶é ˜åŸŸçš„ç«¶çˆ­æ—¥ç›Šæ¿€çƒˆï¼Œæˆ‘å€‘å°‡ç«­ç›¡æ‰€èƒ½ç¢ºä¿ Docusaurus ä¿æŒå…¶**å“è¶Šéˆæ´»æ€§**ï¼Œæˆç‚ºè„«ç©è€Œå‡ºçš„**ç«¶çˆ­åŠ›è§£æ±ºæ–¹æ¡ˆ**ã€‚