---
title: Docusaurus 3.6
authors: [slorber]
tags: [release]
image: ./img/social-card.png
date: 2024-11-04
---

æˆ‘å€‘å¾ˆé«˜èˆˆå®£å¸ƒ **Docusaurus 3.6** æ­£å¼ç™¼å¸ƒã€‚

Docusaurus ç¾åœ¨èƒ½ âš¡ï¸âš¡ï¸âš¡ï¸ **å¤§å¹…åŠ é€Ÿ** æ‚¨çš„ç¶²ç«™å»ºç½®æµç¨‹ã€‚

å‡ç´šéç¨‹å°‡ååˆ†ç°¡ä¾¿ã€‚æˆ‘å€‘çš„[ç™¼å¸ƒæµç¨‹](/community/release-process)éµå¾ª[èªæ„åŒ–ç‰ˆæœ¬æ§åˆ¶](https://semver.org/)ï¼Œæ¬¡è¦ç‰ˆæœ¬æ›´æ–°ä¸æœƒåŒ…å«ä»»ä½•ç ´å£æ€§è®Šæ›´ã€‚

![Docusaurus éƒ¨è½æ ¼æ–‡ç« ç¤¾ç¾¤å¡ç‰‡](./img/social-card.png)

## é‡é»æ›´æ–°

æœ¬æ¬¡ç‰ˆæœ¬ä¸»è¦é€é [Docusaurus Faster](https://github.com/facebook/docusaurus/issues/10556) å°ˆæ¡ˆå„ªåŒ–å»ºç½®æ•ˆèƒ½ã€‚

## Docusaurus Faster

[Docusaurus Faster](https://github.com/facebook/docusaurus/issues/10556) å°ˆæ¡ˆæ—¨åœ¨é™ä½å»ºç½®æ™‚é–“èˆ‡è¨˜æ†¶é«”æ¶ˆè€—ã€‚

æˆ‘å€‘é€²è¡Œäº†å¤šé …å„ªåŒ–ï¼Œä¸¦å°‡åŸºç¤æ¶æ§‹ç¾ä»£åŒ–ä»¥æ¡ç”¨æ›´å¿«é€Ÿçš„ Rust å·¥å…·éˆï¼Œä¸»è¦åŒ…æ‹¬ï¼š

- ğŸ¦€ [Rspack](https://rspack.dev/)ï¼šåŸºæ–¼ Rust çš„é«˜é€Ÿç¶²é æ‰“åŒ…å·¥å…·ï¼Œè¿‘ä¹å¯ç›´æ¥æ›¿æ› [webpack](https://webpack.js.org/)
- ğŸ¦€ [SWC](https://swc.rs/)ï¼šæ¥µé€Ÿç¶²é ç·¨è­¯å™¨ï¼ŒåŸºæ–¼ Rust çš„ç¶²é é–‹ç™¼å¹³å°ï¼ˆæ”¯æ´ HTMLã€CSSã€JSï¼‰
- ğŸ¦€ [Lightning CSS](https://lightningcss.dev/)ï¼šè¶…é«˜é€Ÿ CSS è§£æå™¨ã€è½‰æ›å™¨ã€æ‰“åŒ…å·¥å…·èˆ‡å£“ç¸®å™¨

### å½±éŸ¿å±¤é¢

æ¡ç”¨æ–°åŸºç¤æ¶æ§‹å¯èƒ½ç”¢ç”Ÿå¤šé¢å‘å½±éŸ¿ï¼Œä»¥ä¸‹èšç„¦ä¸»è¦è®Šå‹•é …ç›®ã€‚

ç‚ºé™ä½é·ç§»é–€æª»ï¼Œæˆ‘å€‘åœ¨éœæ…‹ç¶²ç«™è¼¸å‡ºèˆ‡[ç€è¦½å™¨ç›¸å®¹æ€§](/docs/browser-support)æ–¹é¢æ¡ä¿å®ˆç­–ç•¥ã€‚

#### å»ºç½®æ™‚é–“

ç¤¾ç¾¤ç¶²ç«™åŸºæº–æ¸¬è©¦é¡¯ç¤ºï¼Œæ­£å¼ç’°å¢ƒå»ºç½®é€Ÿåº¦å¯æå‡ âš¡ï¸**2 è‡³ 4 å€**ï¼ğŸ”¥ï¼š

- [React Native å®˜ç¶²](https://github.com/facebook/react-native-website/pull/4268)ï¼šåŠ é€Ÿ 3.04 å€ ğŸ”¥
- [Babel å®˜ç¶²](https://github.com/babel/website/pull/2997)ï¼šåŠ é€Ÿ 3.27 å€ ğŸ”¥
- [Lexical å®˜ç¶²](https://github.com/facebook/lexical/pull/6761)ï¼šåŠ é€Ÿ 2 å€ ğŸ”¥

[æ•ˆèƒ½åŸºæº–æ¸¬è©¦æ–¹æ³•](https://github.com/facebook/docusaurus/issues/10556#issuecomment-2407671873)

:::note[é—œæ–¼é‡å»ºé€Ÿåº¦]

[Rspack å°šæœªæ”¯æ´æŒä¹…åŒ–å¿«å–](https://rspack.dev/misc/planning/roadmap#persistent-cache)ï¼Œä½†å·²åˆ—å…¥é–‹ç™¼è·¯ç·šåœ–ã€‚è€ƒé‡ Rspack å†·å»ºç½®é€Ÿåº¦é€šå¸¸ç­‰åŒ Webpack å•Ÿç”¨æŒä¹…å¿«å–å¾Œçš„ç†±å»ºç½®é€Ÿåº¦ï¼Œæˆ‘å€‘èªç‚ºé€™ä¸å½±éŸ¿æ¡ç”¨æ±ºç­–ã€‚

:::

#### è¨˜æ†¶é«”æ¶ˆè€—

è¨˜æ†¶é«”ä½¿ç”¨æ•ˆç‡äº¦ç²å¾—æ”¹å–„ï¼š

- æ–°æ¶æ§‹æ•´é«”è¨˜æ†¶é«”æ¶ˆè€—æ›´ä½
- ä¿®å¾©å½±éŸ¿å¤šèªè¨€ç«™é»çš„åš´é‡[è¨˜æ†¶é«”æ´©æ¼å•é¡Œ](https://github.com/facebook/docusaurus/pull/10599)
- æ–°å¢[CI æª¢æŸ¥](https://github.com/facebook/docusaurus/pull/10601)é˜²æ­¢æ•ˆèƒ½è¡°é€€ï¼Œç¢ºä¿åœ¨è¨˜æ†¶é«”å—é™ç’°å¢ƒä¸­ä»èƒ½å»ºç½®
- åŠ å…¥[å…§éƒ¨å·¥å…·](https://github.com/facebook/docusaurus/pull/10590)ç²¾ç¢ºåˆ†æå»ºç½®éšæ®µçš„è¨˜æ†¶é«”ä½¿ç”¨ç‹€æ³
- [ç§»é™¤å¯èƒ½é®è”½è¨˜æ†¶é«”æ´©æ¼çš„ `process.exit(0)`](https://github.com/facebook/docusaurus/pull/10410)ï¼Œé¿å…ç¬¬ä¸‰æ–¹æ’ä»¶å•é¡Œè¢«å¿½ç•¥

#### å…¶ä»–å½±éŸ¿

- HTML å£“ç¸®å·¥å…·ç¾åœ¨æœƒ[é‡å°ç„¡æ•ˆçš„ HTML æ¨™è¨˜ç™¼å‡ºè­¦å‘Š](https://github.com/facebook/docusaurus/discussions/10580)
- éœæ…‹ HTML è¼¸å‡ºæª”æ¡ˆ[ç¸®å°ç´„ 5%](https://github.com/facebook/docusaurus/pull/10554)
- æ–°åŸºç¤æ¶æ§‹æœƒè‡ªå‹•ä¿®å¾©éƒ¨åˆ†éŒ¯èª¤

### æ¡ç”¨ç­–ç•¥

é€™å¥—æ–°åŸºç¤æ¶æ§‹å±¬æ–¼ç ´å£æ€§è®Šæ›´ï¼Œä½†æ¡ç”¨è‡ªé¡˜åƒèˆ‡æ©Ÿåˆ¶ï¼Œç„¡éœ€å‡ç´šè‡³ Docusaurus æ–°ä¸»ç‰ˆæœ¬ã€‚

ä½¿ç”¨ Docusaurus Faster å‰ï¼Œè«‹å…ˆæ–°å¢æ­¤å¥—ä»¶ï¼š

```bash npm2yarn
npm install @docusaurus/faster
```

ç‚ºå”åŠ©æ‚¨**åœ¨ Docusaurus v3 ä¸‹é€æ­¥æ¡ç”¨**ï¼Œæˆ‘å€‘å°å…¥ä¸€çµ„å¯æ¼¸é€²å•Ÿç”¨çš„åŠŸèƒ½æ——æ¨™ã€‚

å»ºè­°é€éæ­¤ç°¡æ˜“å¸ƒæ—æ·å¾‘ä¸€æ¬¡å•Ÿç”¨æ‰€æœ‰æ——æ¨™ï¼š

```js
const config = {
  future: {
    experimental_faster: true,
  },
};
```

è‹¥æŸæ——æ¨™èˆ‡æ‚¨çš„ç¶²ç«™ä¸ç›¸å®¹ï¼Œå¯ç¨ç«‹å•Ÿç”¨å„åŠŸèƒ½æ——æ¨™ï¼š

```ts
const config = {
  future: {
    experimental_faster: {
      swcJsLoader: true,
      swcJsMinimizer: true,
      swcHtmlMinimizer: true,
      lightningCssMinimizer: true,
      rspackBundler: true,
      mdxCrossCompilerCache: true,
    },
  },
};
```

- [`swcJsLoader`](https://github.com/facebook/docusaurus/pull/10435)ï¼šä½¿ç”¨ [SWC](https://swc.rs/) è½‰è­¯ JavaScriptï¼ˆå–ä»£ [Babel](https://babeljs.io/)ï¼‰
- [`swcJsMinimizer`](https://github.com/facebook/docusaurus/pull/10441)ï¼šä½¿ç”¨ [SWC](https://swc.rs/) å£“ç¸® JavaScriptï¼ˆå–ä»£ [Terser](https://github.com/terser/terser)ï¼‰
- [`swcHtmlMinimizer`](https://github.com/facebook/docusaurus/pull/10554)ï¼šä½¿ç”¨ [SWC](https://swc.rs/) å£“ç¸® HTML åŠå…§è¯ JS/CSSï¼ˆå–ä»£ [html-minifier-terser](https://github.com/terser/html-minifier-terser)ï¼‰
- [`lightningCssMinimizer`](https://github.com/facebook/docusaurus/pull/10522)ï¼šä½¿ç”¨ [Lightning CSS](https://lightningcss.dev/) å£“ç¸® CSSï¼ˆå–ä»£ [cssnano](https://github.com/cssnano/cssnano) èˆ‡ [clean-css](https://github.com/clean-css/clean-css)ï¼‰
- [`rspackBundler`](https://github.com/facebook/docusaurus/pull/10402)ï¼šä½¿ç”¨ [Rspack](https://rspack.dev/) æ‰“åŒ…æ‡‰ç”¨ç¨‹å¼ï¼ˆå–ä»£ [webpack](https://webpack.js.org/)ï¼‰
- [`mdxCrossCompilerCache`](https://github.com/facebook/docusaurus/pull/10479)ï¼šMDX æª”æ¡ˆåƒ…éœ€ç·¨è­¯ä¸€æ¬¡å³å¯åŒæ™‚ç”¨æ–¼ç€è¦½å™¨/Node.js ç’°å¢ƒï¼ˆç„¡éœ€é‡è¤‡ç·¨è­¯ï¼‰

:::tip[å¯¦é©—æ€§ä½†å®‰å…¨]

ç„¡éœ€æ“”å¿ƒå•Ÿç”¨æ­¤åŠŸèƒ½ã€‚å¯¦é©—æ€§è³ªåƒ…é™æ–¼é…ç½®é¸é …ã€‚

æ–°åŸºç¤æ¶æ§‹ç¶“éåš´è¬¹æ¸¬è©¦ï¼ŒCI æµç¨‹é©—è­‰å…¶ç©©å®šæ€§ã€‚[Docusaurus å®˜ç¶²](https://docusaurus.io/)å·²æ–¼ç”Ÿç”¢ç’°å¢ƒæ¡ç”¨ï¼Œæˆ‘å€‘ä¹Ÿè¨ˆåŠƒåœ¨ Meta å…¶ä»–æŠ€è¡“æ–‡ä»¶ç«™å°éƒ¨ç½²ã€‚

:::

#### å¤–æ›ç¨‹å¼ç›¸å®¹æ€§

æ–°åŸºç¤æ¶æ§‹æ¡ç”¨ [Rspack](https://rspack.dev/)ã€‚å·§åˆçš„æ˜¯ï¼ŒRspack èˆ‡ [webpack](https://webpack.js.org/) å¹¾ä¹ 100% ç›¸å®¹ï¼Œæ‡‰ä¸æœƒç ´å£ç¾æœ‰å¤–æ›ç”Ÿæ…‹ç³»ã€‚

å¤šæ•¸ Docusaurus å¤–æ›æ‡‰å¯èˆ‡ Rspack ç›´æ¥ç›¸å®¹ï¼ŒåŒ…å«å¯¦ä½œ [`configureWebpack`](/docs/api/plugin-methods/lifecycle-apis#configureWebpack) çš„å¤–æ›ã€‚

ä½†éƒ¨åˆ†å¤–æ›éœ€å¾®èª¿ä»¥ç¢ºä¿ç›¸å®¹æ€§ã€‚æ ¸å¿ƒåŸå‰‡æ˜¯é¿å…ç›´æ¥å°å…¥ `webpack`ï¼Œæ”¹ç‚ºä½¿ç”¨ã€Œå‹•æ…‹æä¾›ã€çš„ webpack å¯¦ä¾‹ï¼š

```diff
-import webpack from 'webpack';

export default function (context, options) {
  return {
    name: 'custom-docusaurus-plugin',
-   configureWebpack(config, isServer) {
+   configureWebpack(config, isServer, {currentBundler}) {
      return {
        plugins: [
-         new webpack.DefinePlugin({}),
+         new currentBundler.instance.DefinePlugin({}),
        ]
      };
    },
  };
}
```

:::tip[çµ¦å¤–æ›é–‹ç™¼è€…]

è«‹åƒé–±[å°ˆå±¬è­°é¡Œ](https://github.com/facebook/docusaurus/issues/10572)ç²å–æŒ‡å—èˆ‡æ”¯æ´ã€‚

:::

### å¾ŒçºŒè¦åŠƒ

é€™åƒ…æ˜¯èµ·é»ï¼šæˆ‘å€‘å°‡æŒçºŒæ¨é€² [Docusaurus Faster](https://github.com/facebook/docusaurus/issues/10556) å°ˆæ¡ˆï¼Œç¾å·²è¦åŠƒæ›´å¤šæ•ˆèƒ½å„ªåŒ–æªæ–½ã€‚

æ ¹æ“š[æ‚¨çš„åé¥‹](https://github.com/facebook/docusaurus/issues/10556)ï¼Œæˆ‘å€‘è¨ˆåŠƒåœ¨æœªä¾†çš„Docusaurusä¸»è¦ç‰ˆæœ¬ä¸­å°‡æ­¤æ–°åŸºç¤è¨­æ–½è¨­ç‚ºé è¨­é¸é …ã€‚

ğŸ™ æˆ‘å€‘è¦æ„Ÿè¬æ‰€æœ‰é€™äº›å„ªç§€å·¥å…·çš„ä½œè€…ï¼Œä»–å€‘å·²ç¶“å¹«åŠ©æˆ‘å€‘ä½¿Docusaurusæ¯”ä»¥å¾€æ›´å¿«ã€‚ç‰¹åˆ¥æ˜¯[Rspackåœ˜éšŠ](https://rspack.dev/misc/team/core-team)ï¼Œä»–å€‘åœ¨æ•´å€‹éç¨‹ä¸­æ”¯æŒæˆ‘å€‘ï¼Œè¿…é€Ÿè™•ç†äº†æˆ‘å€‘çš„åé¥‹ï¼Œä¸¦å¯¦ç¾äº†æˆ‘å€‘æ‰€éœ€çš„æ‰€æœ‰ç¼ºå¤±åŠŸèƒ½ï¼Œä½¿é€™ä¸€åˆ‡æˆç‚ºå¯èƒ½ã€‚ğŸ‘

## Rsdoctoræ’ä»¶

åœ¨[#10588](https://github.com/facebook/docusaurus/pull/10588)ä¸­ï¼Œæˆ‘å€‘ç‚º[Rsdoctor](https://rsdoctor.dev/)å‰µå»ºäº†ä¸€å€‹Docusaurusæ’ä»¶ã€‚å®ƒåˆ†æDocusaurusçš„æ‰“åŒ…éšæ®µï¼Œå¹«åŠ©æ‚¨æ‰¾å‡ºåœ¨åŠ è¼‰å™¨ã€æ’ä»¶å’Œå£“ç¸®å™¨æ–¹é¢æ‹–æ…¢æ‰“åŒ…é€Ÿåº¦çš„åŸå› ã€‚å®ƒé©ç”¨æ–¼webpackå’ŒRspackã€‚

![åŠ è¼‰å™¨æ™‚é–“è»¸ç¤ºä¾‹](./img/rsdoctor.jpg)

è¦ä½¿ç”¨å®ƒï¼Œè«‹å®‰è£æ–°çš„[`@docusaurus/plugin-rsdoctor`](/docs/api/plugins/@docusaurus/plugin-rsdoctor)å¥—ä»¶ï¼Œç„¶å¾Œåœ¨æ‚¨çš„é…ç½®ä¸­ä½¿ç”¨è©²æ’ä»¶ï¼š

```ts title="docusaurus.config.js"
export default {
  plugins: [
    [
      'rsdoctor',
      {
        /* options */
      },
    ],
  ],
};
```

:::tip

æ ¹æ“šç’°å¢ƒè®Šé‡æœ‰æ¢ä»¶åœ°é–‹å•Ÿå®ƒï¼š

```ts title="docusaurus.config.js"
export default {
  plugins: [
    process.env.RSDOCTOR === 'true' && [
      'rsdoctor',
      {
        /* options */
      },
    ],
  ],
};
```

```bash
# ä¸ä½¿ç”¨Rsdoctoré€²è¡Œæ§‹å»º
npm run build

# ä½¿ç”¨Rsdoctoré€²è¡Œæ§‹å»º
RSDOCTOR=true npm run build
```

:::

## Mermaid

åœ¨[#10510](https://github.com/facebook/docusaurus/pull/10510)ä¸­ï¼Œæˆ‘å€‘æ”¾å¯¬äº†å°[Mermaidåœ–è¡¨](https://mermaid.js.org/)çš„ä¾è³´ç¯„åœé™åˆ¶ï¼Œä»¥å…è¨±ä½¿ç”¨è¼ƒæ–°ä¸»è¦ç‰ˆæœ¬çš„Mermaidã€‚æˆ‘å€‘ç¾åœ¨æ”¯æŒMermaid 10/11ï¼Œä¸¦é è¨ˆæœªä¾†çš„ç‰ˆæœ¬ä¹Ÿæœƒå…¼å®¹ï¼Œè®“æ‚¨å¯ä»¥æŒ‰ç…§è‡ªå·±çš„ç¯€å¥é€²è¡Œå‡ç´šã€‚

é€™è§£é–äº†æ–°å‹åœ–è¡¨ï¼Œä¾‹å¦‚[æ¶æ§‹åœ–](https://mermaid.js.org/syntax/architecture)ï¼š

```mermaid
architecture-beta
    group api(cloud)[API]

    service db(database)[Database] in api
    service disk1(disk)[Storage] in api
    service disk2(disk)[Storage] in api
    service server(server)[Server] in api

    db:L -- R:server
    disk1:T -- B:server
    disk2:T -- B:db
```

## ç¿»è­¯

- ğŸ‡¸ğŸ‡® [#10551](https://github.com/facebook/docusaurus/pull/10551)ï¼šæ”¹é€²æ–¯æ´›æ–‡å°¼äºèªä¸»é¡Œç¿»è­¯ã€‚
- ğŸ‡»ğŸ‡³ [#10507](https://github.com/facebook/docusaurus/pull/10507)ï¼šæ”¹é€²è¶Šå—èªä¸»é¡Œç¿»è­¯ã€‚
- ğŸ‡ªğŸ‡¸ [#10413](https://github.com/facebook/docusaurus/pull/10413)ï¼šæ”¹é€²è¥¿ç­ç‰™èªä¸»é¡Œç¿»è­¯ã€‚

## å…¶ä»–è®Šæ›´

å…¶ä»–å€¼å¾—æ³¨æ„çš„è®Šæ›´åŒ…æ‹¬ï¼š

- [#10586](https://github.com/facebook/docusaurus/pull/10586)ï¼šåšå®¢æ”¯æŒ`frontMatter.title_meta`ä»¥è¦†è“‹`frontMatter.title`ï¼Œç”¨æ–¼SEOç›®çš„ã€‚
- [#10600](https://github.com/facebook/docusaurus/pull/10600)ï¼š`docusaurus build`å’Œ`docusaurus deploy`ç¾åœ¨æ”¯æŒå¤šå€‹`--locale` CLIåƒæ•¸ã€‚
- [#10454](https://github.com/facebook/docusaurus/pull/10454)ï¼š`docusaurus-remark-plugin-npm2yarn`å‡ç´šè‡³[`npm-to-yarn` v3](https://github.com/nebrelbug/npm-to-yarn/releases/tag/v3.0.0)ï¼Œä¸¦å¯ä»¥è½‰æ›`npx`å‘½ä»¤ã€‚
- [#10612](https://github.com/facebook/docusaurus/pull/10612)ï¼šCanaryç‰ˆæœ¬å°‡ä½¿ç”¨`3.5.2-canary-<number>`è€Œé`0.0.0-canary-<number>`ï¼Œä»¥å°Šé‡æ’ä»¶çš„`peerDependency`é™åˆ¶ã€‚
- [#10547](https://github.com/facebook/docusaurus/pull/10547)ï¼š`@docusaurus/tsconfig`å‡ç´šè‡³`target: 'es2022'`ã€‚
- [#10514](https://github.com/facebook/docusaurus/pull/10514)ï¼šå¾Docusaurusåˆå§‹åŒ–æ¨¡æ¿ä¸­ç§»é™¤`babel.config.js`ï¼Œä»¥ä¸é¼“å‹µè‡ªå®šç¾©Babelã€‚

æŸ¥çœ‹ **[3.6.0 ç‰ˆæœ¬æ›´æ–°æ—¥èªŒ](/changelog/3.6.0)** ä»¥ç²å–å®Œæ•´çš„è®Šæ›´æ¸…å–®ã€‚